var Channel="lobby";const Client=require("mpp-client");class MPP extends Client{constructor(e){super(e)}changeName(e){this.sendArray([{m:"userset",set:{name:e}}])}sendToChat(e){this.sendArray([{m:"a",message:e}])}get name(){return this.getOwnParticipant().name}get _id(){return this.getOwnParticipant()._id}get color(){return this.getOwnParticipant().color}}class chatMsg extends MPP{constructor(e){this.msg}send(){this.sendArray([{m:"a",message:msg}])}}const gClient=new MPP("ws://multiplayerpiano.com:8080");gClient.setChannel("lobby"),gClient.start(),gClient.on("hi",e=>{gClient.isConnected()&&(gClient.changeName("ＤＶＤ 2"),gClient.sendToChat(""))});let x=100*Math.random(),y=100*Math.random(),xSpeed=.02,ySpeed=.03;function setPosition(e,n){gClient.sendArray([{m:"m",x:e,y:n}])}setInterval(()=>{setPosition(x,y),(x+xSpeed>100||x+xSpeed<0)&&(xSpeed*=-.9999),(y+ySpeed>100||y+ySpeed<0)&&(ySpeed*=-.9999),x+=xSpeed,y+=ySpeed},0),setInterval(()=>{(gClient.isConnected()&&!gClient.channel||gClient.channel&&gClient.channel._id!=Channel)&&gClient.setChannel(Channel)},0),gClient.on("p",function(e){e._id!==gClient.getOwnParticipant()._id||gClient.sendArray([{m:"userset",set:{name:"ＤＶＤ 2"}}])});
